<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<BorderPane styleClass="root" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.project.charforge.controller.PaperDollController">

    <!-- BAGIAN TENGAH: Split View (Doll Kiri + Stats Kanan) -->
    <center>
        <HBox alignment="CENTER" spacing="30" style="-fx-padding: 20;">

            <!-- KOLOM KIRI: PAPER DOLL UI -->
            <VBox alignment="CENTER" spacing="10">
                <StackPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="500.0" prefWidth="400.0" styleClass="paper-doll-container">

                    <!-- LAYER 1: Silhouette -->
                    <ImageView fitHeight="480" fitWidth="380" opacity="0.5" preserveRatio="true">
                        <Image url="@../images/silhouette.png" />
                    </ImageView>

                    <!-- LAYER 2: Slots -->
                    <Pane prefHeight="500.0" prefWidth="400.0">
                        <!-- HEAD -->
                        <StackPane fx:id="slotHead" layoutX="173.0" layoutY="14.0" prefHeight="50.0" prefWidth="50.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="HEAD" />
                            <ImageView fx:id="imgHead" fitHeight="40" fitWidth="40" visible="false" />
                        </StackPane>

                        <!-- ACCESSORY (Kalung/Amulet) -->
                        <StackPane fx:id="slotAccessory" layoutX="157.0" layoutY="94.0" prefHeight="56.0" prefWidth="88.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="ACCESSORY" />
                            <ImageView fx:id="imgAccessory" fitHeight="40" fitWidth="40" visible="false" />
                        </StackPane>

                        <!-- BODY -->
                        <StackPane fx:id="slotBody" layoutX="165.0" layoutY="163.0" prefHeight="80.0" prefWidth="50.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="BODY" />
                            <ImageView fx:id="imgBody" fitHeight="119.0" fitWidth="68.0" visible="false" />
                        </StackPane>

                        <!-- MAIN HAND -->
                        <StackPane fx:id="slotMainHand" layoutX="40.0" layoutY="150.0" prefHeight="100.0" prefWidth="60.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="MAIN" />
                            <ImageView fx:id="imgMainHand" fitHeight="90" fitWidth="50" visible="false" />
                        </StackPane>

                        <!-- OFF HAND -->
                        <StackPane fx:id="slotOffHand" layoutX="300.0" layoutY="150.0" prefHeight="100.0" prefWidth="60.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="OFF" />
                            <ImageView fx:id="imgOffHand" fitHeight="90" fitWidth="50" visible="false" />
                        </StackPane>

                        <!-- LEGS -->
                        <StackPane fx:id="slotLegs" layoutX="167.0" layoutY="328.0" prefHeight="113.0" prefWidth="68.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="LEGS" />
                            <ImageView fx:id="imgLegs" fitHeight="50" fitWidth="40" visible="false" />
                        </StackPane>
                    </Pane>
                </StackPane>
            </VBox>

            <!-- KOLOM KANAN: STATS PANEL -->
            <VBox alignment="TOP_CENTER" prefHeight="500" prefWidth="250" spacing="10" styleClass="stats-panel">
                <padding>
                    <Insets bottom="20" left="20" right="20" top="20" />
                </padding>

                <!-- Header Info -->
                <Label fx:id="lblName" style="-fx-font-size: 18px;" styleClass="fantasy-header" text="CHARACTER NAME" />
                <Label fx:id="lblRaceClass" style="-fx-font-size: 14px;" styleClass="fantasy-lore" text="Orc Warrior" />

                <Separator opacity="0.3" />

                <!-- Main Stats Grid -->
                <GridPane hgap="10" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="60" />
                        <ColumnConstraints halignment="RIGHT" percentWidth="40" />
                    </columnConstraints>

                    <!-- STR -->
                    <Label styleClass="stat-label-name" text="STRENGTH" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <Label fx:id="lblTotalStr" styleClass="stat-label-value" text="10" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <!-- DEX -->
                    <Label styleClass="stat-label-name" text="DEXTERITY" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <Label fx:id="lblTotalDex" styleClass="stat-label-value" text="8" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <!-- INT -->
                    <Label styleClass="stat-label-name" text="INTELLIGENCE" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <Label fx:id="lblTotalInt" styleClass="stat-label-value" text="5" GridPane.columnIndex="1" GridPane.rowIndex="2" />
               <rowConstraints>
                  <RowConstraints />
                  <RowConstraints />
                  <RowConstraints />
               </rowConstraints>
                </GridPane>

                <Separator opacity="0.3" />

                <!-- Secondary Stats (Weight) -->
                <VBox alignment="CENTER_LEFT" spacing="5">
                    <Label styleClass="fantasy-lore" text="WEIGHT CAPACITY" />
                    <!-- Progress Bar untuk berat -->
                    <ProgressBar fx:id="progressWeight" prefWidth="210" progress="0.4" styleClass="weight-bar" />
                    <HBox alignment="CENTER_RIGHT">
                        <Label fx:id="lblWeightVal" style="-fx-font-size: 12px;" styleClass="stat-label-value" text="25.0 / 60.0 kg" />
                    </HBox>
                </VBox>

            </VBox>
        </HBox>
    </center>

    <!-- BAGIAN BAWAH: Inventory (Shared Width) -->
    <bottom>
        <VBox alignment="CENTER" spacing="10" style="-fx-padding: 0 0 20 0;">
            <Label styleClass="fantasy-header" text="INVENTORY" />

            <!-- Grid 10x2 (Lebih lebar ke samping) -->
            <GridPane fx:id="inventoryGrid" alignment="CENTER" hgap="5" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="72.0" prefWidth="666.0" styleClass="inventory-grid" vgap="5">
            </GridPane>
        </VBox>
    </bottom>

</BorderPane>
